
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Happy Birthday Prasansha!</title>
  <link href="https://fonts.cdnfonts.com/css/winky-rough" rel="stylesheet">

  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Montserrat:wght@400;700&display=swap" rel="stylesheet"/>
  <style>
    * { box-sizing: border-box; }
    body {
      margin:0; padding:0;
      font-family:'Montserrat',sans-serif;
      text-align:center;
      transition:background-color 0.5s;
      min-height:100vh;
      display:flex;
      flex-direction:column;
      justify-content:center;
      align-items:center;
      background:#f0f0f0;
      overflow-x:hidden;
      position: relative;
    }
    .container { max-width:800px; width:95%; padding:20px; position:relative; z-index:10; }
   

    #gift-button {
      display: none;       /* initially hidden */
      opacity: 0;          /* start fully transparent */
      transition: opacity 1s ease;
      padding: 12px 25px;
      border: none;
      border-radius: 25px;
      background: linear-gradient(45deg, #ff8e8e, #ff6b6b);
      color: white;
      font-weight: bold;
      font-size: 1.1em;
      cursor: pointer;
      box-shadow: 0 4px 15px rgba(255,107,107,0.5);
      user-select:none;
    }

    #gift-button:hover {
      background: linear-gradient(45deg, #ff6b6b, #ff3b3b);
      box-shadow: 0 6px 20px rgba(0,0,0,0.3);
    }

    #memories-button, #show-memories-button {
      background: linear-gradient(45deg, #74b9ff, #0984e3);
      display: none;
      padding: 10px 22px;
      border: none;
      border-radius: 20px;
      color: white;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 3px 12px rgba(9,132,227,0.5);
      user-select:none;
    }
    #lightbox-modal {
  display: none;
  position: fixed;
  top: 0; left: 0;
  width: 100vw; height: 100vh;
  background: rgba(0, 0, 0, 0.8);
  z-index: 1000;
  justify-content: center;
  align-items: center;
  flex-direction: column;
}

#lightbox-content img, 
#lightbox-content video {
  max-width: 100%;
  max-height: 100%;
  border-radius: 10px;
  box-shadow: 0 0 15px rgba(255, 255, 255, 0.6);
}


    #memories-button:hover, #show-memories-button:hover {
      background: linear-gradient(45deg, #0984e3, #74b9ff);
    }

    .cake-container {
      position: relative;
      display: none;
      margin: 40px 0;
      z-index: 5;
      cursor: pointer;
    }

    .cake {
      width: 200px;
      height: 120px;
      background: linear-gradient(to bottom, #f9c5d1, #f8a5c2);
      border-radius: 10px 10px 0 0;
      position: relative;
      margin: 0 auto;
      box-shadow: 0 10px 20px rgba(0,0,0,0.1);
    }

    .cake:before {
      position: absolute;
      content: '';
      top: -10px;
      left: -10px;
      width: 220px;
      height: 20px;
      background: linear-gradient(to right, #f999b7, #f67eaa);
      border-radius: 10px;
      box-shadow: 0 5px 10px rgba(0,0,0,0.1);
    }

    .candle {
      width:10px;height:50px; background:linear-gradient(to bottom,#fff,#f0f0f0);
      position:absolute; top:-60px; left:50%; transform:translateX(-50%);
      border-radius:5px; cursor:pointer; box-shadow:0 2px 5px rgba(0,0,0,0.1);
    }
    .flame {
      width:15px;height:30px; background:radial-gradient(#ffef00,#ff9e00);
      position:absolute; top:-30px; left:50%; transform:translateX(-50%);
      opacity:0; border-radius:50% 50% 20% 20%; filter:blur(1px);
      box-shadow:0 0 20px #ff6600,0 0 40px #ff9900;
    }
    .flame.burning { opacity:1; animation:flicker 0.5s infinite alternate; }
    @keyframes flicker {
      0% { opacity:1; transform:translateX(-50%) scale(1); }
      100% { opacity:0.8; transform:translateX(-50%) scale(1.1); }
    }
    .birthday-message {
      font-size:1.2em; color:#333; background:rgba(255,255,255,0.9);
      padding:25px; border-radius:15px; margin:30px 0; max-width:90%;
      box-shadow:0 5px 15px rgba(0,0,0,0.1); display:none; line-height:1.6;
      white-space: pre-wrap;
    }
    .memory-gallery {
      display:none; margin-top:30px; flex-wrap:wrap; justify-content:center; gap:20px;
    }
    .memory-item {
      width:200px;height:200px;background:#f5f5f5;border-radius:15px;overflow:hidden;
      display:flex;justify-content:center;align-items:center;transition:all .3s;
      box-shadow:0 5px 15px rgba(0,0,0,0.1);
    }
    .memory-item:hover {
      transform:scale(1.05); box-shadow:0 10px 25px rgba(0,0,0,0.2); z-index:2;
    }
    .memory-item img, .memory-item video {
      width:100%; height:100%; object-fit:cover; transition:transform .3s;
    }
    h1 {
      font-family: 'Winky Rough', cursive; font-size:2.5em; color:#e84393;
      text-shadow:2px 2px 4px rgba(0,0,0,0.1); margin:0;
    }
    #bg-music { display:none; }
    .balloon, .confetti, .floating-heart { position:absolute; z-index:1; }
    .balloon {
      width:60px;height:80px;border-radius:50%; opacity:0;
      animation:float 8s ease-in-out infinite;
      box-shadow:inset -5px -5px 10px rgba(0,0,0,0.1);
    }
    .balloon:before {
      content:''; position:absolute; bottom:-50px; left:50%; width:2px;height:50px;
      background:#333; transform:translateX(-50%);
    }
    @keyframes float {
      0%,100%{transform:translateY(0)}50%{transform:translateY(-50px) rotate(5deg);}
    }
    .balloon.red{background:radial-gradient(circle at 30% 30%,#ff6b6b,#e84393);}
    .balloon.blue{background:radial-gradient(circle at 30% 30%,#74b9ff,#0984e3);}
    .balloon.green{background:radial-gradient(circle at 30% 30%,#55efc4,#00b894);}
    .balloon.yellow{background:radial-gradient(circle at 30% 30%,#ffeaa7,#fdcb6e);}
    .balloon.purple{background:radial-gradient(circle at 30% 30%,#a29bfe,#6c5ce7);}
    .confetti {
      width:10px; height:10px; animation:confetti-fall 3s linear forwards;
    }
    @keyframes confetti-fall {
      0% { transform:translateY(-100vh); opacity:1; }
      100% { transform:translateY(100vh); opacity:0; }
    }
    .floating-heart {
      font-size:20px; color:#ff6b6b; animation:float-up 4s ease-in forwards;
    }
    @keyframes float-up {
      0% { transform:translateY(0); opacity:1; }
      100% { transform:translateY(-100vh) rotate(360deg); opacity:0; }
    }
    .party-overlay {
      position:fixed;top:0;left:0;width:100%;height:100%;
      background:rgba(255,255,255,0.1);backdrop-filter:blur(2px);
      z-index:3;display:none;pointer-events:none;
    }
    .welcome-message {
      position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);
      font-size:3em;font-family:'Dancing Script',cursive;color:#e84393;
      text-shadow:2px 2px 4px rgba(0,0,0,0.2);
      opacity:0;z-index:100;pointer-events:none;
    }
    .fade-in { animation:fadeIn 1s forwards; }
    .fade-out { animation:fadeOut 1s forwards; }
    @keyframes fadeIn {
      from { opacity:0; transform:translate(-50%,-50%) scale(.8); }
      to { opacity:1; transform:translate(-50%,-50%) scale(1); }
    }
    @keyframes fadeOut{
      from {opacity:1;}
      to {opacity:0;}
    }
    /* Overlay to start */
    #start-overlay {
      position: fixed;
      top:0; left:0;
      width:100%; height:100%;
      background: #fff;
      z-index: 9999;
      display:flex;
      justify-content:center;
      align-items:center;
      cursor:pointer;
      font-family: 'Dancing Script', cursive;
      font-size: 2em;
      color: #e84393;
      user-select:none;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
    }

    /* New animation for gift button */
    @keyframes bounceFadeIn {
      0% {
        opacity: 0;
        transform: translateY(20px) scale(0.9);
      }
      50% {
        opacity: 1;
        transform: translateY(-10px) scale(1.05);
      }
      100% {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    #gift-button.show {
      display: inline-block;
      animation: bounceFadeIn 1s ease forwards;
      opacity: 1;
    }

    /* Added styles for wish button */
    #wish-button {
      display: none;
      padding: 12px 25px;
      border: none;
      border-radius: 25px;
      background: linear-gradient(45deg, #ff8e8e, #ff6b6b);
      color: white;
      font-weight: bold;
      font-size: 1.1em;
      cursor: pointer;
      box-shadow: 0 4px 15px rgba(255,107,107,0.5);
      margin: 20px auto;
    }
    #wish-button:hover {
      background: linear-gradient(45deg, #ff6b6b, #ff3b3b);
    }
    #wish-message {
      display: none;
      color: #e84393;
      font-weight: bold;
      margin-top: 15px;
    }
  </style>
</head>
<body>
  <div id="start-overlay">Click to Start üéâ</div>
  <div class="container">
    <h1 id="typing-text">üë∏ Happy Birthday Prasansha!</h1>
    <div class="cake-container" id="cake-container" title="Click the cake to light the candle">
      <div class="candle"><div class="flame"></div></div>
      <div class="cake"></div>
    </div>
    <button id="gift-button">Open the Gift</button>
    <button id="memories-button">Message</button>
    <div class="birthday-message" id="birthday-message">
       "Happy Birthday Prasansha. I wish you are happy,healthy, and still a chubby doll. And apology for my previous so many reels and messages at a time immature acts. FORGIVE ME Prasansha.And yes ,remmeber "NO DIET". You are beautiful as you are Take love ‚ù§Ô∏è"; </div>
    <button id="show-memories-button">Memories</button>
    <div class="memory-gallery" id="memory-gallery"></div>
    <!-- Added wish button and message -->
    <button id="wish-button">Make a Wish!</button>
    <p id="wish-message"></p>
  </div>
  <div id="balloons-container"></div>
  <div class="party-overlay" id="party-overlay"></div>
  <div class="welcome-message" id="welcome-message-1">Hi Cutiepie</div>
  <div class="welcome-message" id="welcome-message-2">Gulumulu</div>
  <div class="welcome-message" id="welcome-message-3">I know it's unexpected</div>
  <div id="lightbox-modal" style="display:none; position:fixed;top:0;left:0;width:100vw;height:100vh; background:rgba(0,0,0,0.8); z-index:1000; justify-content:center; align-items:center; flex-direction: column;">
  <button id="lightbox-close" style="position:absolute;top:20px;right:20px; font-size:1.5em; background:none; border:none; color:white; cursor:pointer;">‚úñ Close</button>
  <button id="lightbox-prev" style="position:absolute;top:50%;left:20px; transform:translateY(-50%); font-size:2em; background:none; border:none; color:white; cursor:pointer;">‚óÄ</button>
  <div id="lightbox-content" style="max-width:90vw; max-height:80vh; display:flex; justify-content:center; align-items:center;">
    <!-- Media will be injected here -->
  </div>
  <button id="lightbox-next" style="position:absolute;top:50%;right:20px; transform:translateY(-50%); font-size:2em; background:none; border:none; color:white; cursor:pointer;">‚ñ∂</button>
</div>

  
  <audio id="bg-music" loop>
    <source src="https://dl.dropboxusercontent.com/scl/fi/k4wo5sv2tetuos0zrcy21/audio.mp3?rlkey=ilhqqk19hlmw50iad0enp7vh3&dl=1" type="audio/mpeg"/>
  </audio>
  <script>
  const startOverlay = document.getElementById('start-overlay');
  const giftButton = document.getElementById('gift-button');
  const cakeContainer = document.getElementById('cake-container');
  const candle = document.querySelector('.candle');
  const flame = document.querySelector('.flame');
  const memoriesButton = document.getElementById('memories-button');
  const birthdayMessage = document.getElementById('birthday-message');
  const showMemoriesButton = document.getElementById('show-memories-button');
  const memoryGallery = document.getElementById('memory-gallery');
  const bgMusic = document.getElementById('bg-music');
  bgMusic.volume = 0.7; // volume ranges from 0.0 (mute) to 1.0 (full volume)

  const lightboxModal = document.getElementById('lightbox-modal');
const lightboxContent = document.getElementById('lightbox-content');
const lightboxClose = document.getElementById('lightbox-close');
const lightboxNext = document.getElementById('lightbox-next');
const lightboxPrev = document.getElementById('lightbox-prev');

// Added wish button elements
const wishButton = document.getElementById('wish-button');
const wishMessage = document.getElementById('wish-message');

let currentIndex = 0;

// Open lightbox with media at index
function openLightbox(index) {
  currentIndex = index;
  showMedia(currentIndex);
  lightboxModal.style.display = 'flex';
  document.body.style.overflow = 'hidden';  // Prevent background scroll
}

// Close lightbox
function closeLightbox() {
  lightboxModal.style.display = 'none';
  lightboxContent.innerHTML = '';
  document.body.style.overflow = '';
}

// Show media inside lightbox
function showMedia(index) {
  const mem = memories[index];
  lightboxContent.innerHTML = ''; // clear previous

  if(mem.type === 'image') {
    const img = document.createElement('img');
    img.src = mem.url;
    lightboxContent.appendChild(img);
  } else if(mem.type === 'video') {
    const vid = document.createElement('video');
    vid.src = mem.url;
    vid.controls = true;
    vid.autoplay = true;
    lightboxContent.appendChild(vid);
  }
}

// Next media
function nextMedia() {
  currentIndex = (currentIndex + 1) % memories.length;
  showMedia(currentIndex);
}

// Previous media
function prevMedia() {
  currentIndex = (currentIndex - 1 + memories.length) % memories.length;
  showMedia(currentIndex);
}

// Add click listeners on thumbnails to open lightbox
function setupMemoryClicks() {
  const items = memoryGallery.querySelectorAll('.memory-item');
  items.forEach((item, i) => {
    item.style.cursor = 'pointer';
    item.onclick = () => openLightbox(i);
  });
}

lightboxClose.onclick = closeLightbox;
lightboxNext.onclick = nextMedia;
lightboxPrev.onclick = prevMedia;

// Call this after memories loaded to setup clicks
function loadMemories() {
  if (memoryGallery.children.length > 0) return; // Prevent duplicates
  memories.forEach(mem => {
    const div = document.createElement('div');
    div.className = 'memory-item';
    if (mem.type === 'image') {
      const img = document.createElement('img');
      img.src = mem.url;
      img.alt = 'Memory image';
      div.appendChild(img);
    } else if (mem.type === 'video') {
      const vid = document.createElement('video');
      vid.src = mem.url;
      vid.controls = false;  // controls off in thumbnail
      vid.muted = true;
      vid.loop = true;
      vid.autoplay = true;
      div.appendChild(vid);
    }
    memoryGallery.appendChild(div);
  });

  setupMemoryClicks();
  
  // Show wish button after memories are loaded
  setTimeout(() => {
    wishButton.style.display = 'inline-block';
    wishButton.style.opacity = '0';
    setTimeout(() => {
      wishButton.style.transition = 'opacity 1s ease';
      wishButton.style.opacity = '1';
    }, 100);
  }, 500);
}

  const balloonsContainer = document.getElementById('balloons-container');
  const partyOverlay = document.getElementById('party-overlay');
  const welcome1 = document.getElementById('welcome-message-1');
  const welcome2 = document.getElementById('welcome-message-2');
  const welcome3 = document.getElementById('welcome-message-3');
  const typingText = document.getElementById('typing-text');
  const fullText = 'üëë Happy Birthday Prasansha!';
  let charIndex = 0;
  let started = false;

  const memories = [
    { type: 'image', url: 'https://www.dropbox.com/scl/fi/jwr4vspirerbzz4dc74da/IMG-20250718-WA0060.jpg?rlkey=ji352spt12i6momseziz49080&st=zfss0noo&dl=1' },
 { type: 'video', url: 'https://www.dropbox.com/scl/fi/05l3vcsvgebwen673ra27/VID-20250718-WA0018.mp4?rlkey=lkeuttwo68l2p7c48u8a72ykh&st=pu4hrzpa&dl=1' },
  { type: 'image', url: 'https://www.dropbox.com/scl/fi/603qdagaor5u3ek10tjs6/IMG-20250718-WA0061.jpg?rlkey=8ugmvmekjk2pwacynhwrw9lb9&st=87z4hskz&dl=1' },
  { type: 'image', url: 'https://www.dropbox.com/scl/fi/lngj4243ahoqeg750c46o/IMG-20250718-WA0059.jpg?rlkey=2h4e4nzzx57rivf42mo5ae44m&st=0mzb1ckf&dl=1' },
  { type: 'image', url: 'https://www.dropbox.com/scl/fi/uiot74i488yuhwaq2p0jl/IMG-20250718-WA0058.jpg?rlkey=hj8rhkpxt7slzsy56i6b3r8no&st=fjetct7a&dl=1' },
  { type: 'image', url: 'https://www.dropbox.com/scl/fi/li3fvkj4z9ksea6w8ed8j/IMG-20250718-WA0057.jpg?rlkey=8s7z3eol4e3azvva48anjeybo&st=ybojoaie&dl=1' }
  
  
];

  startOverlay.onclick = () => {
    if (started) return;
    started = true;
    startOverlay.style.display = 'none';
    bgMusic.play().catch(() => {});
    showWelcomeMessages();
  };

  function showWelcomeMessages() {
    document.querySelector('.container').style.opacity = '0';

    welcome1.classList.add('fade-in');
    setTimeout(() => welcome1.classList.replace('fade-in', 'fade-out'), 1000);

    setTimeout(() => welcome2.classList.add('fade-in'), 2000);
    setTimeout(() => welcome2.classList.replace('fade-in', 'fade-out'), 3000);

    setTimeout(() => welcome3.classList.add('fade-in'), 4000);
    setTimeout(() => welcome3.classList.replace('fade-in', 'fade-out'), 5000);

    setTimeout(() => {
      document.querySelector('.container').style.opacity = '1';
      typeWriter();
    }, 6000);
  }

  function typeWriter() {
    if (charIndex < fullText.length) {
      typingText.textContent = fullText.slice(0, charIndex + 1);
      charIndex++;
      setTimeout(typeWriter, 120);
    } else {
      typingText.style.borderRight = 'none';

      // Show gift button with animation after 1 second
      setTimeout(() => {
        giftButton.classList.add('show');
      }, 1000);
    }
  }

  function createBalloons(count) {
    for (let i = 0; i < count; i++) {
      const balloon = document.createElement('div');
      balloon.classList.add('balloon');
      const colors = ['red', 'blue', 'green', 'yellow', 'purple'];
      balloon.classList.add(colors[i % colors.length]);
      balloon.style.left = Math.random() * 100 + 'vw';
      balloon.style.animationDelay = Math.random() * 5 + 's';
      balloon.style.opacity = '1';
      balloonsContainer.appendChild(balloon);
      setTimeout(() => balloonsContainer.removeChild(balloon), 8000);
    }
  }

  function createConfetti() {
    const confetti = document.createElement('div');
    confetti.classList.add('confetti');
    confetti.style.left = Math.random() * 100 + 'vw';
    confetti.style.background = `hsl(${Math.random() * 360}, 70%, 60%)`;
    balloonsContainer.appendChild(confetti);
    setTimeout(() => balloonsContainer.removeChild(confetti), 3000);
  }

  function createFloatingHearts() {
    const heart = document.createElement('div');
    heart.classList.add('floating-heart');
    heart.textContent = '‚ù§Ô∏è';
    heart.style.left = Math.random() * 100 + 'vw';
    balloonsContainer.appendChild(heart);
    setTimeout(() => balloonsContainer.removeChild(heart), 4000);
  }

  function openGift() {
    document.body.style.backgroundColor = '#ffebee';
    giftButton.style.display = 'none';
    cakeContainer.style.display = 'block';
    createBalloons(15);
    createConfetti();
    createFloatingHearts();
    partyOverlay.style.display = 'block';
    setInterval(() => { createConfetti(); createFloatingHearts(); }, 3000);
    setTimeout(() => { memoriesButton.style.display = 'inline-block'; }, 1000);
  }

  function lightCandle() {
    flame.classList.add('burning');
    createConfetti();
  }

  function typeText(element, text, speed, callback) {
    let i = 0;
    element.textContent = '';
    element.style.display = 'block';
    function typeNext() {
      if (i < text.length) {
        element.textContent += text.charAt(i);
        i++;
        setTimeout(typeNext, speed);
      } else if (callback) {
        callback();
      }
    }
    typeNext();
  }

  // Added wish button functionality
  wishButton.addEventListener('click', function() {
    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(
        function(position) {
          // Success - got location
          wishMessage.textContent = "Your wish has been sent to the universe. Hope it comes true quickly! ‚ú®";
          wishMessage.style.display = 'block';
          
          // Create some visual feedback
          for (let i = 0; i < 30; i++) {
            setTimeout(() => createConfetti(), i * 100);
          }
          
          // Hide button after clicking
          wishButton.style.display = 'none';
        },
        function(error) {
          // Error - couldn't get location
          wishMessage.textContent = "Your wish has been sent to the universe. Hope it comes true quickly! ‚ú®";
          wishMessage.style.display = 'block';
          
          // Create some visual feedback
          for (let i = 0; i < 30; i++) {
            setTimeout(() => createConfetti(), i * 100);
          }
          
          // Hide button after clicking
          wishButton.style.display = 'none';
        }
      );
    } else {
      // Geolocation not supported
      wishMessage.textContent = "Your wish has been sent to the universe. Hope it comes true quickly! ‚ú®";
      wishMessage.style.display = 'block';
      
      // Create some visual feedback
      for (let i = 0; i < 30; i++) {
        setTimeout(() => createConfetti(), i * 100);
      }
      
      // Hide button after clicking
      wishButton.style.display = 'none';
    }
  });

  giftButton.addEventListener('click', openGift);
  cakeContainer.addEventListener('click', () => {
    if (!flame.classList.contains('burning')) {
      lightCandle();
    }
  });

  memoriesButton.addEventListener('click', () => {
    memoriesButton.style.display = 'none';
    birthdayMessage.style.display = 'block';
    birthdayMessage.textContent = '';

    const message = "Happy Birthday Prasansha. I wish you are happy,healthy, and still a chubby doll. And apology for my previous so many reels and messages at a time immature acts. FORGIVE ME Prasansha. Take love ‚ù§Ô∏è";

    typeText(birthdayMessage, message, 60, () => {
      showMemoriesButton.style.display = 'inline-block';
    });
  });

 showMemoriesButton.addEventListener('click', () => {
  birthdayMessage.style.display = 'block';  // Keep message visible
  birthdayMessage.textContent = '';         // Clear old text
  memoryGallery.style.display = 'none';     // Hide gallery initially
  
  const treasureMessage = "Here's some treasure I still have in my phone";
  
  // Type the treasure message first
  typeText(birthdayMessage, treasureMessage, 60, () => {
    // After typing completes, show the gallery
    memoryGallery.style.display = 'flex';
    loadMemories();
  });
});
  function loadMemories() {
    if (memoryGallery.children.length > 0) return; // Prevent duplicates
    memories.forEach(mem => {
      const div = document.createElement('div');
      div.className = 'memory-item';
      if (mem.type === 'image') {
        const img = document.createElement('img');
        img.src = mem.url;
        img.alt = 'Memory image';
        div.appendChild(img);
      } else if (mem.type === 'video') {
        const vid = document.createElement('video');
        vid.src = mem.url;
        vid.controls = true;
        div.appendChild(vid);
      }
      memoryGallery.appendChild(div);
    });
  }
  </script>
</body>
</html>
